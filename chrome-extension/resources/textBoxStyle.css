/* --- New Global Wrapper Styles --- */
#eco-main-wrapper {
    /* Styles are mostly in content.js, but ensure width consistency */
    width: 350px; 
}

/* ---------------------------------------------------------------------- */
/* --- New Top Bar Styles --- */
/* ---------------------------------------------------------------------- */
#eco-top-bar {
    width: 100%;
    height: 36px;
    background-color: #000843; /* Match component default color */
    border-radius: 8px 8px 0 0; /* Rounded corners only at the top */
    color: white;
    padding: 0 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 14pt;
    font-weight: bold;
    box-sizing: border-box;
}

#top-bar-close {
    cursor: pointer;
    font-size: 18pt;
    padding: 0 4px; /* Give some click area */
    line-height: 1; /* Center the 'x' */
}

/* ---------------------------------------------------------------------- */
/* --- Base Component Styles (Wrapper & Inner Component) --- */
/* ---------------------------------------------------------------------- */

/* The containers added in content.js will wrap the #custom-component */
.eco-textbox-container {
    width: 100%;
    /* Crucial: Hide overflow so the component's rounded corners don't show through 
       at the top/bottom where they shouldn't */
    overflow: hidden; 
}

/* Base Styles for the Inner Component */
#custom-component {
    width: 100%; /* Take full width of its container */
    border-radius: 0; /* Remove base border-radius for stacking */

    /* --- ORIGINAL BASE STYLES RE-ADDED --- */
    box-sizing: border-box;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    overflow: hidden; /* For rounded corners */
    transition: 
        height 0.4s ease-in-out, 
        padding 0.4s ease-in-out, /* Added padding for a smoother look */
        background-color 0.4s ease, 
        box-shadow 0.4s ease;
    padding: 0 16px; /* Horizontal padding for content */
    /* -------------------------------------- */
}

/* Base Text Styles (Keep these in the middle of the CSS) */
.main-text {
    font-weight: bold;
    color: white;
}
.main-text-group {
    display: flex;
    flex-direction: column;
}
.content-right {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 4px;
}
.icon-group {
    display: flex;
    gap: 8px;
    align-items: center;
}
/* Note: The styles for .icon-group .icon should be handled by styledIcon.css now */
#comp-button {
    background-color: white;
    color: #000843;
    border: none;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 10pt;
    cursor: pointer;
    margin-top: 8px;
}

/* ---------------------------------------------------------------------- */
/* --- Component Stacking Adjustment --- */
/* ---------------------------------------------------------------------- */

/* This section is perfect as you wrote it. */

.eco-textbox-container:not(:last-child) #custom-component {
    margin-bottom: 0; 
    /* Remove bottom border/shadow transition effects */
    transition: 
        height 0.4s ease-in-out, 
        padding 0.4s ease-in-out, 
        background-color 0.4s ease; /* No box-shadow transition */
}


/* --- Variant Stacking Adjustments --- */

/* Default State: Remove bottom border-radius for non-last components */
.eco-textbox-container:not(:last-child) .variant-default {
    border-radius: 0; 
}
/* Last Component: Only the bottom of the last component should be rounded */
.eco-textbox-container:last-child .variant-default {
    border-radius: 0 0 8px 8px; /* Rounded corners only at the bottom */
}


/* Hover State: Remove bottom shadow for non-last components */
.eco-textbox-container:not(:last-child) .variant-hover {
    box-shadow: none !important; /* Remove shadow */
    border-bottom: none; /* Remove border */
}
/* Last Component Hover: Only the last component gets the full shadow/border */
.eco-textbox-container:last-child .variant-hover {
    border-radius: 0 0 8px 8px; /* Bottom corners rounded */
}

/* Active State: Ensures the active component looks self-contained */
.eco-textbox-container .variant-active {
    /* Active should always have rounded corners so it appears self-contained */
    border-radius: 8px !important;
}


/* ---------------------------------------------------------------------- */
/* --- ORIGINAL VARIANT STYLES (Rest of the file) --- */
/* ---------------------------------------------------------------------- */

/* --- VARIANT 1: Default (350x50px) --- */
.variant-default {
    height: 66px;
    background-color: #000843;
    padding: 0 16px;
}
.variant-default .main-text {
    font-size: 14pt;
}
.variant-default .subtext-1-default {
    font-size: 10pt;
    color: white;
}
.variant-default .subtext-2,
.variant-default .subtext-1-hover-active,
.variant-default .large-subtext,
.variant-default #comp-button {
    display: none; /* Hide hover/active specific elements */
}


/* --- VARIANT 2: Hover (350x66px) --- */
.variant-hover {
    height: 66px;
    background-color: #192472;
    /* Stroke: white, 0.2px, no left stroke */
    border-top: 0.2px solid white;
    border-right: 0.2px solid white;
    border-bottom: 0.2px solid white;
    border-left: none; 
    /* Drop Shadow: blur 8, spread 8, white 30% opacity */
    box-shadow: 0 0 8px 8px rgba(255, 255, 255, 0.3);
    padding: 0 16px;
}
.variant-hover .main-text {
    font-size: 14pt;
}
.variant-hover .subtext-1-default {
    display: none; /* Hide default subtext */
}
.variant-hover .subtext-2 {
    display: block; /* Show new title subtext */
    font-size: 12pt;
    color: rgba(255, 255, 255, 0.8);
    margin-top: 2px;
}
.variant-hover .subtext-1-hover-active {
    display: block; /* Show subtext under icons */
    font-size: 10pt;
    color: white;
    margin-top: 4px;
}
.variant-hover .large-subtext,
.variant-hover #comp-button {
    display: none; /* Hide active-only elements */
}


/* --- VARIANT 3: Active/Click (350x190px) --- */
.variant-active {
    /* padding: 16px 16px; */
    height: 190px;
    background-color: #192472;
    padding: 16px 16px; 
    /* Stroke: white, 0.2px, no left stroke */
    border-top: 0.2px solid white;
    border-right: 0.2px solid white;
    border-bottom: 0.2px solid white;
    border-left: none;
    /* Drop Shadow: blur 8, spread 8, white 30% opacity */
    box-shadow: 0 0 8px 8px rgba(255, 255, 255, 0.3);
    align-items: flex-start; /* Align content to the top */
    padding-top: 16px !important; 
    /* padding-bottom: 16px; */
    flex-direction: column; /* Stack content vertically */
    justify-content: flex-start;
}
.variant-active .content-left,
.variant-active .content-right {
    width: 100%; /* Take full width of the container */
}
.variant-active .content-right {
    flex-direction: row; /* Icons and subtext next to each other */
    justify-content: flex-end; /* Push icons to the right */
}
.variant-active .main-text {
    font-size: 18pt;
}
.variant-active .subtext-1-default {
    display: none;
}
.variant-active .subtext-2 {
    display: block; /* Show subtext under title */
    font-size: 12pt;
    color: rgba(255, 255, 255, 0.8);
    margin-top: 2px;
}
.variant-active .large-subtext {
    display: block; /* Show large subtext */
    font-size: 12pt;
    color: white;
    margin-top: 16px;
    flex-grow: 1; /* Push button to the bottom */
}
.variant-active .subtext-1-hover-active {
    display: none; /* Hide small subtext under icons */
}
.variant-active #comp-button {
    display: block; /* Show button */
    align-self: flex-end; /* Align button to the bottom right */
    margin-top: auto; /* Push to the bottom */
}